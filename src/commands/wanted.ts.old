import { CommandInteraction, SlashCommandBuilder } from "discord.js";
import { command } from "./types";
import { getWanted } from "./wanted/api";

const random: command = {
  data: new SlashCommandBuilder()
    .setName("random")
    .setDescription("Replies with random number in the range")
    .setDefaultMemberPermissions(0)
    .addIntegerOption((option) =>
      option.setName("from").setDescription("From inclusive").setRequired(true)
    )
    .addIntegerOption((option) =>
      option.setName("to").setDescription("To inclusive").setRequired(true)
    ),
  execute: async (interaction: CommandInteraction, extra) => {
    await interaction.deferReply();
    const embed = await getWanted(interaction, extra);
    if (embed) {
      await interaction.editReply({ embeds: [embed] });
    } else {
      await interaction.editReply({ embeds: [] });
    }
  },
};
export default random;
